

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>GUI Features &mdash; KQCircuits  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/logo.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Point-and-click workflow tutorial" href="gui_workflow.html" />
    <link rel="prev" title="User Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> KQCircuits
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">GUI Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#useful-hotkeys">Useful hotkeys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#placing-elements">Placing Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-element-parameters">Modifying Element parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-waveguides">Modifying waveguides</a></li>
<li class="toctree-l3"><a class="reference internal" href="#converting-elements-placed-in-gui-into-code">Converting elements placed in GUI into code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gui_workflow.html">Point-and-click workflow tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_workflow.html">Python workflow tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="macro_workflow.html">Macro development</a></li>
<li class="toctree-l2"><a class="reference internal" href="export/index.html">Exports</a></li>
<li class="toctree-l2"><a class="reference internal" href="xsection.html">Creating cross section images</a></li>
<li class="toctree-l2"><a class="reference internal" href="terminology.html">Terminology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/kqcircuits.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trademarks.html">Trademarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KQCircuits</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">User Guide</a> &raquo;</li>
        
      <li>GUI Features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/user_guide/gui_features.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gui-features">
<h1>GUI Features<a class="headerlink" href="#gui-features" title="Permalink to this headline">¶</a></h1>
<div class="section" id="useful-hotkeys">
<h2>Useful hotkeys<a class="headerlink" href="#useful-hotkeys" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>* makes the full cell hierarchy visible. Otherwise only cell frames may be
visible. Also accessible from “Display -&gt; Full hierarchy” in the top menu.</p></li>
<li><p>F2 centers the view on the top cell.</p></li>
<li><p>Shift+F2 centers the view on the selected cell.</p></li>
</ul>
</div>
<div class="section" id="placing-elements">
<h2>Placing Elements<a class="headerlink" href="#placing-elements" title="Permalink to this headline">¶</a></h2>
<p>KQC <code class="docutils literal notranslate"><span class="pre">Elements</span></code> are implemented as KLayout PCells. There are two ways to insert <code class="docutils literal notranslate"><span class="pre">Elements</span></code> into the layout:</p>
<ol class="arabic simple">
<li><p>dragging from <strong>Libraries</strong> toolbox</p></li>
<li><p>using “instance” tool from the toolbar</p></li>
</ol>
<p>Either of these makes KLayout ask for a corresponding <strong>PCell</strong> instance from the <strong>Library</strong>.
If the corresponding <strong>PCell instance</strong> does not yet exist, corresponding code from the KQC library is evoked.</p>
<p>Here is an animation demonstrating dragging from the <strong>Libraries</strong> toolbox</p>
<img alt="../_images/placing_pcell.gif" src="../_images/placing_pcell.gif" />
</div>
<div class="section" id="modifying-element-parameters">
<h2>Modifying Element parameters<a class="headerlink" href="#modifying-element-parameters" title="Permalink to this headline">¶</a></h2>
<p>If an <code class="docutils literal notranslate"><span class="pre">Element</span></code> is in the layout, one can change its <strong>parameters</strong> by double clicking the <code class="docutils literal notranslate"><span class="pre">Element</span></code> which should make
<strong>Object properties</strong> window appear. In the window there is a <strong>PCell parameters</strong> tab. Changes in the parameters
take effect when one clicks <strong>Ok</strong> or <strong>Apply</strong>.
At this event, corresponding <strong>PCell</strong> instance is created or reused from the <strong>Library</strong>.</p>
<img alt="../_images/modifying_pcell.gif" src="../_images/modifying_pcell.gif" />
<p>Due to the non-intuitive way KLayout is implemented there are a few common mistakes which prevent one from getting
<strong>Object properties</strong> window when double clicking the element.</p>
<ul class="simple">
<li><p>One is clicking on a <code class="docutils literal notranslate"><span class="pre">Box</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">PCell</span> <span class="pre">instance</span></code>. Some PCells have boxes around them and selecting a box has a higher importance than selecting an instance. One can see which is selected from the bottom edge of the screen. One can disable selecting boxes from “Edit -&gt; Select” dropdown menu.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Element</span></code> is no longer a PCell. If the PCell has been “turned static” it is no longer generated by code and parameters cannot be changed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Element</span></code> is inside another PCell. One can only change parameters of the top level Element. If one desires to change parameters of the sub-elements, the top level element should be turned static before.</p></li>
</ul>
</div>
<div class="section" id="modifying-waveguides">
<span id="id1"></span><h2>Modifying waveguides<a class="headerlink" href="#modifying-waveguides" title="Permalink to this headline">¶</a></h2>
<p>Some PCell parameters are geometric objects. For example, <code class="docutils literal notranslate"><span class="pre">Coplanar</span> <span class="pre">Waveguide</span></code> has a “guide path” parameter. In the
cell view window it is displayed as a black <cite>Path</cite> object. The geometric parameters can be changed using <cite>Partial</cite> tool
in the toolbar.</p>
<ul class="simple">
<li><p>Double clicking a path creates additional nodes.</p></li>
<li><p>Dragging edges shifts the edge and adds orthogonal segments to keep the path connected.</p></li>
<li><p>Dragging nodes shifts the nodes.</p></li>
</ul>
<p>PCell shape is updated after each change in the parameters.</p>
<img alt="../_images/modifying_waveguide.gif" src="../_images/modifying_waveguide.gif" />
</div>
<div class="section" id="converting-elements-placed-in-gui-into-code">
<h2>Converting elements placed in GUI into code<a class="headerlink" href="#converting-elements-placed-in-gui-into-code" title="Permalink to this headline">¶</a></h2>
<p>KQCircuits includes a macro <code class="docutils literal notranslate"><span class="pre">export_cells_as_code.lym</span></code> that can be used to
convert elements placed in GUI into code that can be used in chip PCells. For
more information, see the docstring and comments in the macro. The following
animation demonstrates how a chip is modified by placing elements in the GUI
and how to use this macro to include those elements in PCell generation code:</p>
<img alt="../_images/converting_gui_elements_to_code.gif" src="../_images/converting_gui_elements_to_code.gif" />
<p>The macro has special handling for waveguides (of <code class="docutils literal notranslate"><span class="pre">WaveguideCoplanar</span></code> type).
The code generated for them automatically detects nearby reference points of
other elements, and uses these instead of hardcoded points as the positions
of the waveguide nodes. See the <a class="reference internal" href="#modifying-waveguides"><span class="std std-ref">Modifying waveguides</span></a> section above for
instructions on how to modify <code class="docutils literal notranslate"><span class="pre">WaveguideCoplanar</span></code> in GUI.</p>
<p>In order to make waveguides connect “nicely” to ports of other elements, most
ports in KQC elements have an additional “corner refpoint”. To connect a
waveguide to port “a” of instance “x”, you  should generally place its first
two points at <code class="docutils literal notranslate"><span class="pre">x_port_a</span></code> and <code class="docutils literal notranslate"><span class="pre">x_port_a_corner</span></code>. The corner point is not
needed if the next point would anyway be in the direction of
<code class="docutils literal notranslate"><span class="pre">x_port_a_corner</span></code>, since the purpose of the corner point is only to make
the direction of the first waveguide segment aligned with the port.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gui_workflow.html" class="btn btn-neutral float-right" title="Point-and-click workflow tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021-2022, IQM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>