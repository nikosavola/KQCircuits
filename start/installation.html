

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation &mdash; KQCircuits  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/logo.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Getting Started" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> KQCircuits
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Getting Started</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#klayout">KLayout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-automatic-installation">Basic automatic installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-salt-package">Upgrading Salt Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-installation-issues">Known installation issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-different-python-package-versions-to-klayout-manually">Installing different Python package versions to KLayout manually</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/kqcircuits.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trademarks.html">Trademarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KQCircuits</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Getting Started</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/start/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="klayout">
<span id="id1"></span><h2>KLayout<a class="headerlink" href="#klayout" title="Permalink to this headline">¶</a></h2>
<p>Download and install KLayout from <a class="reference external" href="https://www.klayout.de/build.html">https://www.klayout.de/build.html</a>. Builds
should exist there for most common operating systems, choose the correct one
for your OS. Otherwise you need to build KLayout yourself. We will assume in
these instructions, that KLayout has been installed in the default location.</p>
<p>Successfully tested versions:</p>
<ul class="simple">
<li><p>Linux (Ubuntu 18.04/20.04 LTS, 64-bit): KLayout 0.26.4, 0.26.7 - 0.27.2</p></li>
<li><p>MacOS: KLayout 0.26.3, 0.26.12 (recommended version <cite>HomeBrew-Python3 included</cite>)</p></li>
<li><p>Windows 10 (64-bit): KLayout 0.26.3, 0.26.4, 0.26.7 - 0.26.9, 0.26.11, 0.26.12, 0.27.2</p></li>
</ul>
</div>
<div class="section" id="basic-automatic-installation">
<h2>Basic automatic installation<a class="headerlink" href="#basic-automatic-installation" title="Permalink to this headline">¶</a></h2>
<p>Select “Tools -&gt; Manage Packages” to install the KQCircuits package:</p>
<img alt="../_images/install.gif" src="../_images/install.gif" />
<p>Note that KLayout was started in edit mode, see <a class="reference internal" href="usage.html#usage"><span class="std std-ref">Usage</span></a>.</p>
<p>Developers should rather check out the source code and run KQCircuits from
there, see the <a class="reference internal" href="../developer/setup.html#developer-setup"><span class="std std-ref">Developer Setup</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If KQCircuits is not working properly after installation (KQC libraries
not visible, running any macro gives an error, etc.), there might be some
problem with the specific KLayout version/build you are using, see
<a class="reference internal" href="#installation-issues"><span class="std std-ref">Known installation issues</span></a> section for possible solutions.</p>
</div>
</div>
<div class="section" id="upgrading-salt-package">
<h2>Upgrading Salt Package<a class="headerlink" href="#upgrading-salt-package" title="Permalink to this headline">¶</a></h2>
<p>After upgrading KQCircuits package KLayout needs to be restarted. See the release notes
for further details.</p>
<p>Downgrading or upgrading several steps at once is not guaranteed to always work. Upgrading KQC
usually works but the safest approach is to uninstall KQC and then install a new version.</p>
</div>
<div class="section" id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>Here we list particular quirks of specific KQCircuits Salt packages. For a full list of changes see
the code repository.</p>
<ul class="simple">
<li><p>Version 4.1.0 requires full reinstall of KQC. Qubits directory has moved, to remove the earlier
version we need to first remove KQC then install the new version.</p></li>
<li><p>Version 4.0.0 requires full reinstall of KQC. Several files have been relocated, without a full
reinstall multiple versions of the same file will be left behind.</p></li>
<li><p>Version 3.3.0 needs manual install of <code class="docutils literal notranslate"><span class="pre">tqdm</span></code> Python module.</p></li>
</ul>
</div>
<div class="section" id="known-installation-issues">
<span id="installation-issues"></span><h2>Known installation issues<a class="headerlink" href="#known-installation-issues" title="Permalink to this headline">¶</a></h2>
<p>For some specific KLayout builds there can be problems with KQCircuits
installation that require some extra steps:</p>
<ul class="simple">
<li><p>For some macOS BigSur KLayout builds (at least for KLayout v0.27.x), KQC
might not work due to a problem with the KLayout included <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>
package. The KQC libraries will not be visible and one might see the error
message <code class="docutils literal notranslate"><span class="pre">&quot;No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'_distutils_hack'&quot;</span></code> when trying to run macros.
This can be fixed by installing manually the <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> package into
KLayout (at least <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> v52.0.0 and v57.4.0 should work, probably
also some other versions). See
<a class="reference internal" href="#manual-installation-of-klayout-packages"><span class="std std-ref">Installing different Python package versions to KLayout manually</span></a> for instructions on how to
install a specific package version to KLayout.</p></li>
</ul>
<div class="section" id="installing-different-python-package-versions-to-klayout-manually">
<span id="manual-installation-of-klayout-packages"></span><h3>Installing different Python package versions to KLayout manually<a class="headerlink" href="#installing-different-python-package-versions-to-klayout-manually" title="Permalink to this headline">¶</a></h3>
<p>Sometimes there are issues with specific package versions in the KLayout
Python environment. To install a different version of some package, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">PACKAGE</span><span class="o">&gt;==&lt;</span><span class="n">VERSION</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">target</span><span class="o">=&lt;</span><span class="n">KLAYOUT</span><span class="o">-</span><span class="n">PACKAGE</span><span class="o">-</span><span class="n">DIR</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The KLAYOUT-PACKAGE-DIR should be the path to the site-packages directory
used by KLayout. If you don’t know where that is, you can find it by opening
the KLayout macro editor and writing <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pip</span></code> and then <code class="docutils literal notranslate"><span class="pre">pip.__path__</span></code>
in the console.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021-2022, IQM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>